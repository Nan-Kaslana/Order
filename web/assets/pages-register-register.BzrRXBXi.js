import{r as e,a as l,c as a,w as s,i as t,o as u,b as n,d as o,s as i,j as c,g as d,I as p,h as r}from"./index-D6i_hTCv.js";import{_ as f,r as m,a as _}from"./uni-app.es.Chso5W8v.js";import{a as g,A as v}from"./utils.CPUApmy1.js";const b=f({__name:"register",setup(f){const b=e(""),V=e(""),h=e(""),w=e(""),y=e("");async function x(){if(console.log("注册流程执行"),""!=b.value&&""!=w.value)if(""!=y.value)if(""!=V.value)if(""!=h.value)try{const e=await g(v.USER_REGISTER,{username:b.value,password:w.value,nickname:y.value,phone:V.value,email:h.value});console.log(e.data),0===e.data.code?(i({title:"注册成功，即将跳转",duration:2e3}),setTimeout(()=>{c({url:`/pages/index/index?userName=${b.value}&password=${w.value}`})},2e3)):i({title:e.data.msg,icon:"none"})}catch(e){console.error("注册请求失败：",e),i({title:"网络异常，请重试",icon:"none"})}else i({title:"邮箱不能为空",icon:"none"});else i({title:"手机号不能为空",icon:"none"});else i({title:"昵称为空",icon:"none"});else i({title:"用户名或密码为空",icon:"none"})}const z=()=>{c({url:"/pages/index/index"})};return(e,i)=>{const c=t,f=d,g=m(l("uni-icons"),_),v=p,U=r;return u(),a(c,{class:"register-page"},{default:s(()=>[n(c,{class:"bg-decoration"},{default:s(()=>[n(c,{class:"bg-blob blob-1"}),n(c,{class:"bg-blob blob-2"})]),_:1}),n(c,{class:"login-card card-animate"},{default:s(()=>[n(c,{class:"card-header"},{default:s(()=>[n(f,{class:"login-title"},{default:s(()=>[o("创建账号")]),_:1}),n(f,{class:"login-subtitle"},{default:s(()=>[o("请填写注册信息完成注册")]),_:1})]),_:1}),n(c,{class:"form-container"},{default:s(()=>[n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(g,{type:"phone",size:"24",class:"input-icon"}),n(v,{type:"number",placeholder:"请输入手机号",class:"input-field",modelValue:V.value,"onUpdate:modelValue":i[0]||(i[0]=e=>V.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(g,{type:"person",size:"24",class:"input-icon"}),n(v,{placeholder:"请输入用户名",class:"input-field",modelValue:b.value,"onUpdate:modelValue":i[1]||(i[1]=e=>b.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(g,{type:"person",size:"24",class:"input-icon"}),n(v,{placeholder:"请输入昵称",class:"input-field",modelValue:y.value,"onUpdate:modelValue":i[2]||(i[2]=e=>y.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(g,{type:"email",size:"24",class:"input-icon"}),n(v,{placeholder:"请输入邮箱",class:"input-field",modelValue:h.value,"onUpdate:modelValue":i[3]||(i[3]=e=>h.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(g,{type:"locked",size:"24",class:"input-icon"}),n(v,{type:"password",placeholder:"请设置密码",class:"input-field",modelValue:w.value,"onUpdate:modelValue":i[4]||(i[4]=e=>w.value=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(U,{class:"login-btn",onClick:x},{default:s(()=>[o(" 立即注册 "),n(g,{size:"24",class:"btn-icon"})]),_:1})]),_:1}),n(c,{class:"register-tip"},{default:s(()=>[n(f,null,{default:s(()=>[o("已有账号?")]),_:1}),n(f,{class:"register-link",onClick:z},{default:s(()=>[o("立即登录")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-f475204c"]]);export{b as default};
