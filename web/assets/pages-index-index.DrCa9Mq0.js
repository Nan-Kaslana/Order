import{r as a,a as l,c as e,w as s,i as t,o,b as c,d as n,e as u,s as d,n as i,f as r,g as p,I as f,h as g,j as _,k as m}from"./index-DE4krAnL.js";import{a as h,A as b}from"./utils.BzgKB8ik.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const k=v({__name:"index",setup(v){const k=a(""),y=a(""),w=a(""),V=a(""),x=a("");async function I(){console.log("成功执行");try{const a=await h(b.USER_LOGIN,{userName:k.value,password:y.value,captcha:w.value,captchaId:V.value});console.log(a.data),0==a.data.code&&(d("token",a.data.data.token),i({url:"/pages/home/home"}))}catch(a){console.error("登录请求失败：",a),r({title:"网络异常，请重试",icon:"none"})}}async function z(){console.log("成功执行");try{const a=await h(b.USER_CAPTCHA);console.log(a.data),console.log(a.data),V.value=a.data.data.captchaId,console.log(a.data.data.captchaId),x.value=a.data.data.picPath,console.log(V)}catch(a){console.error("登录请求失败：",a),r({title:"网络异常，请重试",icon:"none"})}}function C(){console.log("成功执行"),i({url:"/pages/register/register"})}return a("http://darkskl.site:9495"),(a,d)=>{const i=t,r=p,h=l("uni-icons"),b=f,v=g,V=_,U=m;return o(),e(i,{class:"login-page"},{default:s(()=>[c(i,{class:"bg-decoration"},{default:s(()=>[c(i,{class:"bg-blob blob-1"}),c(i,{class:"bg-blob blob-2"})]),_:1}),c(i,{class:"login-card card-animate"},{default:s(()=>[c(i,{class:"card-header"},{default:s(()=>[c(r,{class:"login-title"},{default:s(()=>[n("欢迎回来")]),_:1}),c(r,{class:"login-subtitle"},{default:s(()=>[n("请登录您的账号")]),_:1})]),_:1}),c(i,{class:"form-container"},{default:s(()=>[c(i,{class:"input-group"},{default:s(()=>[c(i,{class:"input-wrap"},{default:s(()=>[c(h,{type:"person",size:"24",class:"input-icon"}),c(b,{type:"text",placeholder:"请输入用户名",class:"input-field",modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=a=>k.value=a)},null,8,["modelValue"])]),_:1})]),_:1}),c(i,{class:"input-group"},{default:s(()=>[c(i,{class:"input-wrap"},{default:s(()=>[c(h,{type:"lock",size:"24",class:"input-icon"}),c(b,{type:"password",placeholder:"请输入密码",class:"input-field",modelValue:y.value,"onUpdate:modelValue":d[1]||(d[1]=a=>y.value=a)},null,8,["modelValue"]),c(i,{class:"password-toggle"},{default:s(()=>[c(h,{type:"eye-slash-filled",size:"22"})]),_:1})]),_:1})]),_:1}),c(i,{class:"input-group"},{default:s(()=>[c(i,{class:"input-wrap"},{default:s(()=>[c(h,{type:"lock",size:"24",class:"input-icon"}),c(b,{placeholder:"请输入验证码",class:"input-field",modelValue:w.value,"onUpdate:modelValue":d[2]||(d[2]=a=>w.value=a)},null,8,["modelValue"]),c(v,{onClick:z},{default:s(()=>[n("获取验证码")]),_:1})]),_:1})]),_:1}),c(i,{class:"form-options"},{default:s(()=>[c(i,{class:"remember-me"},{default:s(()=>[c(U,null,{default:s(()=>[c(V,{checked:!1,class:"remember-checkbox",style:{transform:"scale(0.7)"}}),c(r,null,{default:s(()=>[n("记住密码")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),u("img",{src:x.value},null,8,["src"]),c(v,{class:"login-btn",onClick:I},{default:s(()=>[n(" 立即登录 "),c(h,{type:"arrowright",size:"24",class:"btn-icon"})]),_:1})]),_:1}),c(i,{class:"register-tip"},{default:s(()=>[c(r,null,{default:s(()=>[n("还没有账号?")]),_:1}),c(r,{class:"register-link",onClick:C},{default:s(()=>[n("立即注册")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-55490e63"]]);export{k as default};
