import{r as e,a as l,c as a,w as s,i as t,o as u,b as n,d as o,s as i,f as c,A as d,k as p,h as r,I as f,j as m}from"./index-B3ir4qvj.js";import{r as _,_ as v}from"./uni-app.es.B7CJl36A.js";import{_ as g}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=g({__name:"register",setup(g){const b=e(""),V=e(""),h=e(""),w=e(""),y=e("");async function x(){if(console.log("注册流程执行"),""!=b.value&&""!=w.value)if(""!=y.value)if(""!=V.value)if(""!=h.value)try{const e=await c(d.USER_REGISTER,{username:b.value,password:w.value,nickname:y.value,phone:V.value,email:h.value});console.log(e.data),0===e.data.code?(i({title:"注册成功，即将跳转",duration:2e3}),setTimeout(()=>{p({url:`/pages/index/index?userName=${b.value}&password=${w.value}`})},2e3)):i({title:e.data.msg,icon:"none"})}catch(e){console.error("注册请求失败：",e),i({title:"网络异常，请重试",icon:"none"})}else i({title:"邮箱不能为空",icon:"none"});else i({title:"手机号不能为空",icon:"none"});else i({title:"昵称为空",icon:"none"});else i({title:"用户名或密码为空",icon:"none"})}const k=()=>{p({url:"/pages/index/index"})};return(e,i)=>{const c=t,d=r,p=_(l("uni-icons"),v),g=f,z=m;return u(),a(c,{class:"register-page"},{default:s(()=>[n(c,{class:"bg-decoration"},{default:s(()=>[n(c,{class:"bg-blob blob-1"}),n(c,{class:"bg-blob blob-2"})]),_:1}),n(c,{class:"login-card card-animate"},{default:s(()=>[n(c,{class:"card-header"},{default:s(()=>[n(d,{class:"login-title"},{default:s(()=>[o("创建账号")]),_:1}),n(d,{class:"login-subtitle"},{default:s(()=>[o("请填写注册信息完成注册")]),_:1})]),_:1}),n(c,{class:"form-container"},{default:s(()=>[n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(p,{type:"phone",size:"24",class:"input-icon"}),n(g,{type:"number",placeholder:"请输入手机号",class:"input-field",modelValue:V.value,"onUpdate:modelValue":i[0]||(i[0]=e=>V.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(p,{type:"person",size:"24",class:"input-icon"}),n(g,{placeholder:"请输入用户名",class:"input-field",modelValue:b.value,"onUpdate:modelValue":i[1]||(i[1]=e=>b.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(p,{type:"person",size:"24",class:"input-icon"}),n(g,{placeholder:"请输入昵称",class:"input-field",modelValue:y.value,"onUpdate:modelValue":i[2]||(i[2]=e=>y.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(p,{type:"email",size:"24",class:"input-icon"}),n(g,{placeholder:"请输入邮箱",class:"input-field",modelValue:h.value,"onUpdate:modelValue":i[3]||(i[3]=e=>h.value=e)},null,8,["modelValue"])]),_:1})]),_:1}),n(c,{class:"input-group"},{default:s(()=>[n(c,{class:"input-wrap"},{default:s(()=>[n(p,{type:"locked",size:"24",class:"input-icon"}),n(g,{type:"password",placeholder:"请设置密码",class:"input-field",modelValue:w.value,"onUpdate:modelValue":i[4]||(i[4]=e=>w.value=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),n(z,{class:"login-btn",onClick:x},{default:s(()=>[o(" 立即注册 "),n(p,{size:"24",class:"btn-icon"})]),_:1})]),_:1}),n(c,{class:"register-tip"},{default:s(()=>[n(d,null,{default:s(()=>[o("已有账号?")]),_:1}),n(d,{class:"register-link",onClick:k},{default:s(()=>[o("立即登录")]),_:1})]),_:1})]),_:1})}}},[["__scopeId","data-v-f475204c"]]);export{b as default};
